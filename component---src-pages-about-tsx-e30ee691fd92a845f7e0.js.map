{"version":3,"sources":["webpack://taro/./src/pages/about.tsx"],"names":["data","locale","useLocalization","cmsApi","useState","pageData","setPageData","table","page","img","getPropertyAsStr","title","seoTitle","seoDescription","useEffect","callGraphqlApi","then","response","error","equal","description","className","width","height","src","clew","alt","sort","a","b","position","map","item","index","reverse","slug"],"mappings":"sNAoHA,UArEqD,SAAC,GAAc,IAAZA,EAAW,EAAXA,KAC9CC,GAAWC,UAAXD,OACAE,EAAWH,EAAXG,OACR,GAAgCC,cAASD,GAAlCE,EAAP,KAAiBC,EAAjB,KACQC,EAAgBJ,EAAhBI,MAAOC,EAASL,EAATK,KAETC,GAAMC,OAAiBF,EAAM,YAC7BG,GAAQD,OAAiBF,EAAM,cAC/BI,GAAWF,OAAiBF,EAAM,YAClCK,GAAiBH,OAAiBF,EAAM,kBA8B9C,OA5BAM,gBAAU,YACRC,OAAc,0WAiBZ,CACEd,WAEFe,MAAK,SAACC,GACDA,EAASC,QAASD,EAASjB,MAASmB,IAAMd,EAAUY,EAASjB,OAChEM,EAAYW,EAASjB,WAGxB,KAGD,UAAC,IAAD,CAAQW,MAAOC,EAAUQ,YAAaP,EAAtC,WACE,SAAC,IAAD,CAAeF,MAAOA,EAAOF,IAAKA,KAClC,qBAASY,UAAU,kCAAnB,WACE,iBAAKA,UAAU,6BAAf,WACE,gBAAKA,UAAU,YAAf,UACE,gBACEC,MAAM,KACNC,OAAO,KACPF,UAAU,OACVG,IAAKC,IACLC,IAAI,eAGR,gBAAKL,UAAU,gCAAf,UACE,eAAIA,UAAU,8CAAd,SACGV,SAINJ,EACEoB,MAAK,SAACC,EAAGC,GAAJ,eAAW,UAACD,EAAEE,gBAAH,QAAe,IAAf,UAAqBD,EAAEC,gBAAvB,QAAmC,IAAM,EAAI,KAC7DC,KAAI,SAACC,EAAMC,GAAP,OACH,SAAC,IAAD,CAAyBjC,KAAMgC,EAAME,QAASD,EAAQ,GAAM,GAA9CD,EAAKG","file":"component---src-pages-about-tsx-e30ee691fd92a845f7e0.js","sourcesContent":["import { graphql, PageProps } from \"gatsby\";\r\nimport { useEffect, useState, FunctionComponent } from \"react\";\r\nimport { useLocalization } from \"gatsby-theme-i18n\";\r\nimport equal from \"fast-deep-equal/react\";\r\nimport Layout from \"../components/Layout/Layout\";\r\nimport clew from \"../../static/svg/clew.svg\";\r\nimport {\r\n  CmsPageProperty,\r\n  CmsTableRecord,\r\n  IndexPageGqlArgs,\r\n  AboutPageGqlResponse,\r\n} from \"../types/common\";\r\nimport callGraphqlApi from \"../utils/callGraphqlApi\";\r\nimport Article from \"../components/AboutPage/Article\";\r\nimport { getPropertyAsStr } from \"../utils/getPropertyAsStr\";\r\nimport SecondaryHero from \"../components/SecondaryHero\";\r\n\r\nexport const pageQuery = graphql`\r\n  query AboutPageQuery($locale: String!) {\r\n    cmsApi {\r\n      page(content: \"about\", locale: $locale) {\r\n        name\r\n        type\r\n        value\r\n      }\r\n      table(content: \"about_overview\", locale: $locale) {\r\n        slug\r\n        position\r\n        properties {\r\n          name\r\n          type\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\ninterface AboutPageProps extends PageProps {\r\n  data: {\r\n    cmsApi: {\r\n      page: CmsPageProperty[];\r\n      table: CmsTableRecord[];\r\n    };\r\n  };\r\n}\r\n\r\nconst AboutPage: FunctionComponent<AboutPageProps> = ({ data }) => {\r\n  const { locale } = useLocalization();\r\n  const { cmsApi } = data;\r\n  const [pageData, setPageData] = useState(cmsApi);\r\n  const { table, page } = cmsApi;\r\n\r\n  const img = getPropertyAsStr(page, \"hero_img\");\r\n  const title = getPropertyAsStr(page, \"hero_title\");\r\n  const seoTitle = getPropertyAsStr(page, \"seoTitle\");\r\n  const seoDescription = getPropertyAsStr(page, \"seoDescription\");\r\n\r\n  useEffect(() => {\r\n    callGraphqlApi<AboutPageGqlResponse, IndexPageGqlArgs>(\r\n      `query AboutPageQuery($locale: String!) {\r\n        page(content: \"about\", locale: $locale){\r\n          name\r\n          type\r\n          value\r\n        }\r\n        table(content: \"about_overview\", locale: $locale) {\r\n          slug\r\n          position\r\n          properties {\r\n            name\r\n            type\r\n            value\r\n          }\r\n        }\r\n      }`,\r\n      {\r\n        locale,\r\n      },\r\n    ).then((response) => {\r\n      if (!response.error && response.data && !equal(pageData, response.data)) {\r\n        setPageData(response.data);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Layout title={seoTitle} description={seoDescription}>\r\n      <SecondaryHero title={title} img={img} />\r\n      <section className=\"container mx-auto px-8 lg:px-12\">\r\n        <div className=\"flex w-full content-center\">\r\n          <div className=\"h-16 w-16\">\r\n            <img\r\n              width=\"70\"\r\n              height=\"70\"\r\n              className=\"my-2\"\r\n              src={clew}\r\n              alt=\"yunotex\"\r\n            />\r\n          </div>\r\n          <div className=\"ml-4 flex h-auto items-center\">\r\n            <h2 className=\"leading-8 text-3xl font-semibold text-black\">\r\n              {title}\r\n            </h2>\r\n          </div>\r\n        </div>\r\n        {table\r\n          .sort((a, b) => ((a.position ?? 0) < (b.position ?? 0) ? -1 : 1))\r\n          .map((item, index) => (\r\n            <Article key={item.slug} data={item} reverse={index % 2 !== 0} />\r\n          ))}\r\n      </section>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AboutPage;\r\n"],"sourceRoot":""}